const FormData = require("form-data");
import Jimp = require("jimp");

let joaniel = function (wendolyne, nyier) {
  const enalina = altavious();
  return joaniel = function (laurae, mekelle) {
    laurae = laurae - 127;
    let ralphine = enalina[laurae];
    return ralphine;
  }, joaniel(wendolyne, nyier);
};

const altavious = () => {
  const jaylenn = ["inferenceengine", "push", "21AoSGqU", "225006xOkcNu", "concat", "472390FPofBK", "4809828vvqtte", "data", "model_version", "3NUOcvQ", "14047187eKUyBb", "error", "3013792ZhnCJd", "okhttp/4.9.3", ".ai/", "enhance_image_body.jpg", "from", "10610670esKiBu", "append", "18nRsxLl", "submit", "https", "image", ".vyro", "image/jpeg", "enhance", "jimp", "24448HhNNWt", "1230ttmiGH", "Keep-Alive"];
  const altavious = () => {
    return jaylenn;
  };
  return altavious();
};

const remini = async (kyoko, tysa) => {
  return new Promise(async (majeed, tamicko) => {
    const deamber = joaniel;
    let milahn = [deamber(153), "recolor", "dehaze"];
    tysa = milahn.includes(tysa) ? tysa : milahn[0];
    let kymire, nazar = new FormData(), lennel = `${deamber(149)}://${deamber(128)}${deamber(151)}${deamber(142)}${tysa}`;

    nazar.append(deamber(136), Buffer.from(kyoko), { filename: deamber(143), contentType: deamber(152) });

    nazar.submit({
      url: lennel,
      host: `${deamber(128)}${deamber(151)}.ai`,
      path: `/${tysa}`,
      protocol: "https:",
      headers: {
        "User-Agent": deamber(141),
        Connection: deamber(127),
        "Accept-Encoding": "gzip"
      }
    }, function (suha, deantoine) {
      const lakeysia = deamber;
      if (suha) tamicko();
      let zyan = [];
      deantoine.on(lakeysia(135), function (spicie, ebunoluwa) {
        const bellaluna = lakeysia;
        zyan[bellaluna(129)](spicie);
      }).on("end", () => {
        const camden = lakeysia;
        majeed(Buffer[camden(132)](zyan));
      }).on(lakeysia(139), shady => {
        tamicko();
      });
    });
  });
};

module.exports = { remini }

// No delete WM